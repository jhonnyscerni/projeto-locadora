<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/Layout.xhtml"
	xmlns:o="http://omnifaces.org/ui">

	<ui:define name="content">

		<f:metadata>
			<o:viewParam name="aluguel" value="#{cadastroAluguelBean.aluguel}"></o:viewParam>
		</f:metadata>

		<h1 class="aw-page-title">Aluguel de Carro</h1>

		<h:form id="frm">
			<p:focus />
			<p:toolbar>
				<p:toolbarGroup>
					<p:commandButton value="Salvar"
						action="#{cadastroAluguelBean.salvar}" update="@form" />
				</p:toolbarGroup>
				<p:toolbarGroup align="right">
					<p:button value="Pesquisa" outcome="/aluguel/PesquisaAluguel" />
				</p:toolbarGroup>
			</p:toolbar>

			<p:messages autoUpdate="false" />


			<p:panelGrid columns="2" id="painel"
				style="width: 100%; margin-top: 20px" columnClasses="rotulo, campo">

				<p:outputLabel value="Motorista" for="motorista" />
				<p:selectOneMenu id="motorista"
					value="#{cadastroAluguelBean.aluguel.motorista}">
					<f:selectItem itemLabel="Selecione o carro" />
					<f:selectItems value="#{cadastroAluguelBean.motoristas}" var="motorista"
						itemLabel="#{motorista.nome}"
						itemValue="#{motorista}" />
				</p:selectOneMenu>

				<p:outputLabel value="Carro" for="carro" />
				<p:selectOneMenu id="carro"
					value="#{cadastroAluguelBean.aluguel.carro}">
					<f:selectItem itemLabel="Selecione o carro" />
					<f:selectItems value="#{cadastroAluguelBean.carros}" var="carro"
						itemLabel="#{carro.modeloCarro.descricao}: #{carro.placa}"
						itemValue="#{carro}" />
				</p:selectOneMenu>

				<p:outputLabel value="Data Entrega" for="dataEntrega"></p:outputLabel>
				<p:calendar id="dataEntrega" size="20" pattern="dd/MM/yyyy HH:mm"
					value="#{cadastroAluguelBean.aluguel.dataEntrega}" stepMinute="10"></p:calendar>

				<p:outputLabel value="Data Devolução" for="dataDevolucao"></p:outputLabel>
				<p:calendar id="dataDevolucao" size="20" maxlength="80"
					pattern="dd/MM/yyyy HH:mm"
					value="#{cadastroAluguelBean.aluguel.dataDevolucao}"
					stepMinute="10"></p:calendar>

				<p:outputLabel value="Valor total" for="valorTotal" />
				<p:inputText id="valorTotal" size="20" maxlength="80"
					value="#{cadastroAluguelBean.aluguel.valorTotal}" />
			</p:panelGrid>

			<h:outputText value="Dados da apólice de seguro"
				style="font-size: 18px; display: block; margin-top: 20px" />

			<p:panelGrid columns="2" id="painelApolice"
				style="width: 100%; margin-top: 20px" columnClasses="rotulo, campo">
				<p:outputLabel value="Proteção terceiro" for="protecaoTerceiro" />
				<p:selectBooleanCheckbox id="protecaoTerceiro"
					value="#{cadastroAluguelBean.aluguel.apoliceSeguro.protecaoTerceiro}" />

				<p:outputLabel value="Proteção causas naturais"
					for="protecaoCausasNaturais" />
				<p:selectBooleanCheckbox id="protecaoCausasNaturais"
					value="#{cadastroAluguelBean.aluguel.apoliceSeguro.protecaoCausasNaturais}" />

				<p:outputLabel value="Proteção roubo" for="protecaoRoubo" />
				<p:selectBooleanCheckbox id="protecaoRoubo"
					value="#{cadastroAluguelBean.aluguel.apoliceSeguro.protecaoRoubo}" />

				<p:outputLabel value="Valor da Franquia" for="valorFranquia" />
				<p:inputText id="valorFranquia" size="20" maxlength="20"
					value="#{cadastroAluguelBean.aluguel.apoliceSeguro.valorFranquia}" />
			</p:panelGrid>

		</h:form>

	</ui:define>
</ui:composition>